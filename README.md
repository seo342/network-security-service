● 학술제 및 졸업논문

● 코드의 양이 방대한 관계로 핵심 기능만 간단하게 설명하겠음

/api-management/receive
----------------------------------------------------------------------------------------
이 코드의 역할은 분석서버에서 받은 json 데이터를 db에 있는 incidents 테이블에 삽입하는 것임

1. api키 검증 및 api키 상태 확인

  json 데이터에 있는 auth키를 조회한 후 그 키를 기반으로 api키 활성화 상태 여부를 확인함 만약 비활성화 되어있다면 삽입 거부

2. 사용 시간 갱신 및 알림 설정 조회

이후 api_keys 테이블의 last_used를 갱신 한 후 해당 api키가 이메일 알림 설정이 되어있는지 조회함

3. 심각도 및 상태 계산, incidents 테이블 삽입

json데이터에 있는 detection_result에 따라 위험도를 계산, BENIGN이면 정상으로 분류되고 그 외인 경우 (Port_Scan, ICMP_FLOOD)인 경우 신뢰도(confidence)에 따라 high, medium, low 로 분류, 이후 incidents 테이블에 json 데이터를 삽입함

4. 이메일 발송

BENIGN이 아니며 severity가 high이고 confidence도 높으면 해당 유저의 이메일에 메일이 발송됨

----------------------------------------------------------------------------------------





